[前端三十｜18. [FE] 為什麼網站要做成 SPA？SSR 的優點是什麼？](https://medium.com/schaoss-blog/%E5%89%8D%E7%AB%AF%E4%B8%89%E5%8D%81-18-fe-%E7%82%BA%E4%BB%80%E9%BA%BC%E7%B6%B2%E7%AB%99%E8%A6%81%E5%81%9A%E6%88%90-spa-ssr-%E7%9A%84%E5%84%AA%E9%BB%9E%E6%98%AF%E4%BB%80%E9%BA%BC-c926145078a4)

## 請簡單解釋什麼是 Single Page Application

- 全名為SPA Single Page Application 單頁式應用，最經典的就是Gmail或是draw.io這種不會刷新整個瀏覽器的網頁服務了
- 根據名稱所述，使用者用起來都會在同一個網頁下操作，並且會感覺像在用APP的流暢使用者體驗
- SPA本身的網頁原始碼只有框架而無內容，內容都是靠JavaScript在收到伺服器傳送的資料後再渲染成HTML元素補齊的。其原理是透過AJAX (非同步JavaScript 和 XML) 來動態的更新瀏覽器顯示資料，重複的資料不需全部洗掉，只更新必須要更新的就好
- 而AJAX更常看到的例子就是Google瀏覽器在輸入關鍵字時，下面就會及時地跳出推薦的搜尋例子，這就是AJAX

## SPA 的優缺點為何

- SPA的優點是大大的降低了後端伺服器的資源需求，以往所有的網頁都是靠後端伺服器計算渲染出來後，再將結果以HTML的形式傳送回前端，現在SPA下後端只需要處裡資料傳輸即可，所有的資料處裡和前端網頁渲染都靠客戶端執行，可以避免當同個網頁被多人造訪時造成伺服器無法負荷
- 缺點是前端要處理的事情開始包山包海，不只要處裡原先就該弄的畫面顯示，還得同時處裡取得資料後如何妥善運用這些資料，前台複雜化的影響就是在沒有完整的結構體制下如果內容龐大起來，要維護就會變得非常困難
- 再來因為網頁是靠取得資料後用JavaScript渲染出來，因此SEO會變得非常糟糕，原因是搜尋引擎爬蟲在爬這些網頁時看到的是空的網頁框架，而非有內容的網頁，因此會將搜尋順位往後調
- 而解決SEO的問題以及前台複雜化造成的維護困難，並保有SPA能減少伺服器端附載的優點，第一個頁面靠SSR(伺服器渲染)，後續則是SPA顯示，搭配前端MVC架構的網頁寫法就應運而生了

## 這週這種後端負責提供只輸出資料的 API，前端一律都用 Ajax 串接的寫法，跟之前透過 PHP 直接輸出內容的留言板有什麼不同？

- 之前PHP直接輸出的方式，其所有內容都是在後端處裡好後，將HTML發送到前端使用者的瀏覽器上，瀏覽器單純只針對拿到的HTML做畫面顯示，所以伺服器端負擔較高、而客戶端負擔較小
- 此方式當伺服器端掛掉後，客戶端那邊是網頁連一個字都看不到，並且如果後續要修改顯示畫面時，得連同後端向資料庫請求資料的部分也得一併處裡
- 而本周後端只靠API傳輸資料的方式，則分化了前端與後端的工作內容，後端只專注在資料的請求與傳輸上，不需管前端的畫面顯示，前端可依據需求替換各種網頁版型，而裡面顯示的關鍵內容則都是同一份後端傳回來的資料
- 最能體會的就是在做圖奇API作業時，儘管本質上資料都是某某遊戲的前幾位實況主是誰，但我呈現的網頁一定和你呈現的網頁不一樣